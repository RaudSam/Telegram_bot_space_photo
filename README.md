# Космический Телеграм

Это проект создан с целью создать телеграм бота, который будет автоматически отправлять фотографии с сайта NASA и SpaceX. 

Он содержит несколько скриптов для загрузки изображений с сайтов и скрипт для публикации в Telegram по запросу с определенным количеством времени. 

### Как установить

Для работы с кодом вам понадобиться:
- Получить ключ API NASA на их [сайте](https://api.nasa.gov/);
- Зарегистрировать бота в Telegram с помощью [BotFather](https://telegram.me/BotFather) и получить API ключ от него;
- Создать Telegram-канал и сделать бота его администратором;
- Создать .env файл и прописать в него ваши секретные данные, такие как API ключ от бота - `TG_TOKEN` и API ключ от NASA - `NASA_API_KEY`;
- Python3 должен быть уже установлен. Затем используйте `pip` (или `pip3`, есть есть конфликт с Python2) для установки зависимостей:
```
pip install -r requirements.txt
```

### Использование скриптов
#### -fetch_spacex_images.py
Этот скрипт загружает изображения, связанные с последним запуском SpaceX или указанным запуском, и сохраняет их в локальной папке «images». Если такой папки нет, он ее создает.

Основая функция кода -`fetch_spacex_last_launch`. Для ее запуска вам понадобится `launch_id` - это id SpaceX запуска, если у вас такого нет, то скрипт по умолчанию скачает фото с последнего запуска.

Чтобы код запустить вы можете прописать в консоле:
```
python fetch_spacex_images.py [--launch_id]
```

#### -fetch_nasa_apod_images.py
Этот скрипт загружает изображения из программы NASA Astronomy Picture of the Day [(APOD)](https://api.nasa.gov/#apod) и сохраняет их в локальной папке «images». 

Основая функция кода -`fetch_nasa_apod_images`. Для ее запуска вам понадобится `NASA_API_KEY` - этот ваш ключ API от NASA и `count` - это кол-во изображений, которое вы хотите скачать.

Чтобы код запустить вы можете прописать в консоле:
```
python fetch_nasa_apod_images.py [--count]
```

#### -fetch_nasa_epic_images.py
Этот скрипт загружает изображения Земли - NASA's Earth Polychromatic Imaging Camera [(EPIC)](https://api.nasa.gov/#epic) и сохраняет их в локальной папке «images». 

Основая функция кода -`fetch_nasa_epic_images`. Для ее запуска вам понадобится `NASA_API_KEY` - этот ваш ключ API от NASA.

Чтобы код запустить вы можете прописать в консоле:
```
python fetch_nasa_epic_images.py
```

#### -TG_bot.py
Этот скрипт публикует изображения в указанный канал Telegram через определенные промежутки времени. 

Основая функция кода -`send_messages`. Для ее запуска вам понадобится `TG_TOKEN` - этот ваш ключ API от бота, `TG_CHAT_ID` - id Telegram-канала, в котором будут опубликованы изображения и `time` - время в секундах, т.е. частота публикаций, которая вас интересует.

Чтобы код запустить вы можете прописать в консоле:
```
python autopublish_images_bot.py 14400
```

#### -tg_bot_send_chosen_img.py
Этот скрипт публикует одно изображение в указанный канал Telegram. 

Основая функция кода -`publish_an_image`. Для ее запуска вам понадобится `TG_TOKEN` - этот ваш ключ API от бота, `TG_CHAT_ID` - id Telegram-канала, в котором будут опубликованы изображения и `image_name` - название фотографии, которая вас интересует.

Чтобы код запустить вы можете прописать в консоле:
```
python autopublish_images_bot.py [--image_name]
```

#### -basic_script.py
Этот код содержит вспомогательные функции, которые используются в нескольких других скриптах. Он не предназначен для прямого запуска, но импортируется и используется другими скриптами.

### Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).
